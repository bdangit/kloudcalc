<!DOCTYPE html>
<html>
<head>
  <title>I have a back bone</title>
</head>
<body>
  <button id="add-compute-instance">Add Compute Instance</button>
  <ul id="friends-list">
  </ul>
  
  <!--
  <script src="http://ajax.googleapis.com/ajx/libs/jquery/1.4.4/jquery.min.js"></script>
  <script src="http://ajax.cdnjs.com/ajax/libs/underscore.js/1.1.4/underscore.js"></script>
  <script src="http://ajax.cdnjs.com/ajx/libs/backbone.js/0.3.3/backbone-min.js"></script>
  -->
  <script src="js/jquery-1.7.2.min.js"></script>
  <script src="js/underscore.js"></script>
  <script src="js/backbone-min.js"></script>
  
  <script>
  (function ($) {
    // MODELS!
    // add any data structures here
    ComputeInstance = Backbone.Model.extend({
      // hold computing instance attributes
      name: null,
      cpu_size: null, // 1, 2, 4, 10x
      disk_size: null, // 10, 20, 30, 40
      ram_size: null, // 1GB, 2GB, 4GB, 8GB, 16GB, 100GB
      cloud_vendor: null, // joyent, aws, rackspace, linode
      software_required: null
    });
     
    Friend = Backbone.Model.extend({
      // Create a model to hold friend attribute
      name: null
    });
    
    Friends = Backbone.Collection.extend({
      // This is our Friends collection and holds our Friend models
      initialize: function (models, options) {
        this.bind("add", options.view.addFriendLi);
        // Listen for new additions to the collection and call a view function if so
      }
    });
    
    // VIEWS/CONTROLLER!
    // this is really a controller where the HTML is the VIEW
    AppView = Backbone.View.extend({
      el: $("body"),
      initialize: function () {
        this.friends = new Friends( null, { view: this });
        // Create a friends collection when the view is initialized.
        // Pass it a reference to this view to create a connection between the two
      },
      events: {
        "click #add-compute-instance":  "showPrompt",
        // this is where you add interaction with the UI (VIEW)
      },
      // this is where you add any of the callback functions / trigger functions
      showPrompt: function () {
        var friend_name = prompt("Who is your friend?");
        var friend_model = new Friend({ name: friend_name });
        // Add a new friend model to our friend collection
        this.friends.add( friend_model );
      },
      addFriendLi: function (model) {
        // the parameter passed is a reference to the model that was added
        $("#friends-list").append("<li>" + model.get('name') + "</li>");
        // Use .get to receive attributes of the model
      }
    });
    
    var appview = new AppView;
    
  })(jQuery);
  </script>
</body>
</html>